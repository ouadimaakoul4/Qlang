<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>QLang ‚Äî Library of Universal Laws</title>

  <!-- MathJax 3 -->
  <script>
    window.MathJax = {
      tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
      svg: { fontCache: 'global' },
      startup: {
        ready() {
          MathJax.startup.defaultReady();
          // Une fois MathJax pr√™t, on peut attacher les √©quations
          renderLibrary();
        }
      }
    };
  </script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

  <!-- Marked.js pour le Markdown -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <style>
    :root {
      --bg: #0b0b1a;
      --card-bg: #15152a;
      --text: #e0e0ff;
      --accent: #6a5af9;
      --equation-hover: #8a7bff;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: system-ui, -apple-system, sans-serif;
    }

    body {
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      padding: 20px;
    }

    h1, h2, h3 {
      margin-bottom: 1rem;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
    }

    /* --- Main View --- */
    #main-view {
      display: block;
    }

    .law-card {
      background: var(--card-bg);
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
    }

    .equation-clickable {
      cursor: pointer;
      padding: 12px;
      margin: 12px 0;
      background: rgba(106, 90, 249, 0.08);
      border-radius: 8px;
      text-align: center;
      transition: all 0.2s;
    }

    .equation-clickable:hover {
      background: rgba(106, 90, 249, 0.15);
      transform: translateY(-2px);
    }

    /* --- Proof View --- */
    #proof-view {
      display: none;
      background: var(--card-bg);
      border-radius: 12px;
      padding: 25px;
      box-shadow: 0 6px 30px rgba(0,0,0,0.4);
    }

    #back-btn {
      background: var(--accent);
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      margin-bottom: 20px;
      font-weight: bold;
    }

    #back-btn:hover {
      opacity: 0.9;
    }

    .proof-content h2 {
      color: var(--accent);
      margin-top: 1.5rem;
    }

    .proof-content p, .proof-content li {
      margin-bottom: 1rem;
    }

    blockquote {
      border-left: 3px solid var(--accent);
      padding-left: 15px;
      margin: 1.2rem 0;
      color: #c0c0ff;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üåå QLang ‚Äî Universal Laws</h1>

    <!-- Vue principale : biblioth√®que -->
    <div id="main-view">
      <p>Cliquez sur une √©quation pour voir sa d√©monstration compl√®te.</p>
      <div id="laws-container"></div>
    </div>

    <!-- Vue d√©taill√©e : d√©monstration -->
    <div id="proof-view">
      <button id="back-btn">‚Üê Retour √† la biblioth√®que</button>
      <div id="proof-content"></div>
    </div>
  </div>

  <script>
    // üî¨ Base de donn√©es des lois
    const universalLaws = {
      mass_energy: {
        name: "Mass-Energy Equivalence",
        category: "Fundamental Physics",
        statement_latex: "E = mc^2",
        full_explanation: `
## üß™ Origine historique
En septembre 1905, Albert Einstein publia un court article intitul√© *"Does the Inertia of a Body Depend Upon Its Energy Content?"* dans le cadre de sa th√©orie de la relativit√© restreinte. Il y d√©montra que **masse et √©nergie sont interchangeables**.

## üìê D√©rivation conceptuelle
Einstein consid√©ra un corps au repos √©mettant deux impulsions lumineuses (photons) de m√™me √©nergie $\\varepsilon$ dans des directions oppos√©es. Pour conserver l‚Äôimpulsion totale, le corps reste au repos. Mais dans un r√©f√©rentiel en mouvement, l‚Äô√©nergie des photons change (effet Doppler). En imposant la **conservation de l‚Äô√©nergie** dans tous les r√©f√©rentiels, il obtint :

$$
\\Delta E = \\Delta m \\cdot c^2
$$

Cela signifie qu‚Äôune perte d‚Äô√©nergie $\\Delta E$ correspond √† une perte de masse $\\Delta m = \\Delta E / c^2$.

## üß† Hypoth√®ses fondamentales
- Principe de relativit√© (les lois physiques sont identiques dans tous les r√©f√©rentiels inertiels)
- Invariance de la vitesse de la lumi√®re ($c$ est constante)
- Conservation de l‚Äô√©nergie et de l‚Äôimpulsion

## üí• Cons√©quences majeures
- Explication de l‚Äô√©nergie lib√©r√©e dans les **r√©actions nucl√©aires** (fission et fusion)
- Base de la **physique des particules** (cr√©ation/annihilation de paires)
- Validation exp√©rimentale via la **masse manquante** dans les noyaux atomiques

> "La masse d‚Äôun corps est une mesure de son contenu √©nerg√©tique."  
> ‚Äî Albert Einstein, 1905
`
      },

      schrodinger: {
        name: "Schr√∂dinger Equation",
        category: "Fundamental Physics",
        statement_latex: "i\\hbar\\frac{\\partial}{\\partial t}\\Psi = \\hat{H}\\Psi",
        full_explanation: `
## üß™ Origine historique
En 1926, Erwin Schr√∂dinger formula une √©quation d‚Äôonde d√©crivant comment l‚Äô√©tat quantique d‚Äôun syst√®me physique √©volue dans le temps. Inspir√© par la dualit√© onde-particule de de Broglie, il cherchait une **√©quation d‚Äôonde relativiste**, mais commen√ßa par le cas non relativiste.

## üìê D√©rivation physique
On part de l‚Äô√©nergie classique d‚Äôune particule :  
$$
E = \\frac{p^2}{2m} + V(\\mathbf{r})
$$

En m√©canique quantique, on remplace :
- $E \\rightarrow i\\hbar \\frac{\\partial}{\\partial t}$
- $\\mathbf{p} \\rightarrow -i\\hbar \\nabla$

En appliquant ces op√©rateurs √† une fonction d‚Äôonde $\\Psi(\\mathbf{r}, t)$, on obtient :

$$
i\\hbar\\frac{\\partial}{\\partial t}\\Psi(\\mathbf{r},t) = \\left[ -\\frac{\\hbar^2}{2m}\\nabla^2 + V(\\mathbf{r}) \\right] \\Psi(\\mathbf{r},t)
$$

o√π $\\hat{H} = -\\frac{\\hbar^2}{2m}\\nabla^2 + V$ est l‚Äô**op√©rateur hamiltonien**.

## üß† Hypoth√®ses cl√©s
- La fonction d‚Äôonde $\\Psi$ contient toute l‚Äôinformation sur le syst√®me
- L‚Äô√©volution est **d√©terministe** et **unitaire**
- Les observables sont des op√©rateurs hermitiens

## üî¨ Cons√©quences
- Permet de calculer les niveaux d‚Äô√©nergie des atomes (ex: hydrog√®ne)
- Base de la chimie quantique, des semi-conducteurs, et de l‚Äôinformatique quantique
- Interpr√©tation probabiliste via la r√®gle de Born ($P = |\\Psi|^2$)

> "Je ne veux plus jamais avoir affaire √† la m√©canique quantique !"  
> ‚Äî Erwin Schr√∂dinger (apr√®s avoir vu les implications philosophiques de son √©quation)
`
      }
    };

    // ----------------------------
    // Fonctions d'affichage
    // ----------------------------

    function renderLibrary() {
      const container = document.getElementById('laws-container');
      container.innerHTML = '';

      for (const [id, law] of Object.entries(universalLaws)) {
        const card = document.createElement('div');
        card.className = 'law-card';
        card.innerHTML = `
          <h3>${law.name}</h3>
          <p><strong>Cat√©gorie :</strong> ${law.category}</p>
          <div class="equation-clickable" data-law-id="${id}">
            $$${law.statement_latex}$$
          </div>
        `;
        container.appendChild(card);
      }

      // Attacher les √©couteurs apr√®s rendu MathJax
      document.querySelectorAll('.equation-clickable').forEach(el => {
        el.addEventListener('click', () => {
          window.location.hash = `proof/${el.dataset.lawId}`;
          showProofView(el.dataset.lawId);
        });
      });
    }

    function showProofView(lawId) {
      const law = universalLaws[lawId];
      if (!law) return;

      document.getElementById('main-view').style.display = 'none';
      document.getElementById('proof-view').style.display = 'block';

      const html = marked.parse(law.full_explanation);
      document.getElementById('proof-content').innerHTML = html;

      // Relancer MathJax sur le nouveau contenu
      if (window.MathJax) {
        MathJax.typesetClear([document.getElementById('proof-content')]);
        MathJax.typeset([document.getElementById('proof-content')]);
      }
    }

    function showMainView() {
      document.getElementById('main-view').style.display = 'block';
      document.getElementById('proof-view').style.display = 'none';
    }

    // ----------------------------
    // Navigation
    // ----------------------------

    document.getElementById('back-btn').addEventListener('click', () => {
      window.location.hash = '';
      showMainView();
    });

    function handleHash() {
      const hash = window.location.hash.slice(1);
      if (hash.startsWith('proof/')) {
        const lawId = hash.split('/')[1];
        showProofView(lawId);
      } else {
        showMainView();
      }
    }

    window.addEventListener('load', handleHash);
    window.addEventListener('hashchange', handleHash);
  </script>
</body>
</html>