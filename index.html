<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QLang ‚Äî Interrogez l'Univers</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.0.2/marked.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            max-width: 800px; 
            margin: 0 auto; 
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        input { 
            width: 100%; 
            padding: 15px; 
            margin-bottom: 15px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
        }
        button { 
            padding: 15px 30px; 
            background: #ff6b6b;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s;
        }
        button:hover {
            background: #ff5252;
        }
        button:disabled {
            background: #cccccc;
            cursor: not-allowed;
        }
        #response { 
            background: white;
            color: #333;
            border-radius: 10px;
            padding: 25px;
            margin-top: 25px;
            min-height: 100px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        .loading {
            text-align: center;
            font-style: italic;
        }
        .error {
            color: #ff6b6b;
            background: #fff5f5;
            border: 1px solid #ff6b6b;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üåå QLang v1.2 ‚Äî Traducteur Cosmique</h1>
        <p>Posez une question √† l'univers, et obtenez une r√©ponse fond√©e sur ses lois fondamentales.</p>
        
        <input type="text" id="question" placeholder="Ex: L'information est-elle plus fondamentale que la mati√®re ?">
        <button onclick="askQLang()">‚ú® Interroger l'Univers</button>
        
        <div id="response">
            <p>Pr√™t √† recevoir votre question cosmique...</p>
        </div>
    </div>

    <script>
        // Base de connaissances des lois cosmiques
        const lois = {
            "thermo_2": {
                "nom": "2e loi de la thermodynamique",
                "√©nonc√©": "ŒîS ‚â• 0 dans un syst√®me isol√©",
                "cons√©quences": ["fl√®che du temps", "augmentation de l'entropie", "limite √† la complexit√© perp√©tuelle"],
                "domaine": ["thermodynamique", "entropie", "syst√®mes"],
                "confiance_intrins√®que": 1.0
            },
            "bekenstein": {
                "nom": "Limite de Bekenstein",
                "√©nonc√©": "Densit√© d'information maximale ~ A / (4 l_Pl¬≤)",
                "cons√©quences": ["borne sup√©rieure √† l'information dans un volume", "lien gravit√©-information", "principe holographique"],
                "domaine": ["information", "gravit√©", "cosmologie"],
                "confiance_intrins√®que": 0.95
            },
            "landauer": {
                "nom": "Principe de Landauer",
                "√©nonc√©": "Co√ªt minimal de kT ln(2) par bit effac√©",
                "cons√©quences": ["co√ªt thermodynamique du calcul", "limite √† la complexit√© computationnelle"],
                "domaine": ["information", "thermodynamique", "computation"],
                "confiance_intrins√®que": 0.98
            }
        };

        // Types de questions reconnues
        const questionsTypes = {
            "fondamentalite_info": {
                "mots_cles": ["information", "fondamentale", "mati√®re", "bit", "primitive", "plus fondamentale"],
                "lois": ["bekenstein", "landauer", "thermo_2"],
                "synthese_template": "L'information et la mati√®re sont intriqu√©es, mais l'information semble **plus primitive** dans la hi√©rarchie cosmique. La mati√®re sans information est un √©tat indiff√©renci√© (entropie maximale). L'information sans mati√®re est instable (co√ªt √©nerg√©tique). Cependant, dans les r√©gimes extr√™mes, l'information pr√©c√®de la g√©om√©trie (principe holographique). Ainsi, l'information d√©finit **ce qui peut exister**, tandis que la mati√®re fournit le cadre."
            },
            "origine_lois": {
                "mots_cles": ["lois", "chaos", "ordre", "pourquoi", "fondement", "origine"],
                "lois": ["thermo_2"],
                "synthese_template": "Le chaos absolu est instable. Les syst√®mes √©voluent vers des √©tats sym√©triques ou auto-organis√©s. Seules les structures coh√©rentes persistent. Les lois sont la trace de ce qui a surv√©cu √† travers l'√©volution cosmique."
            },
            "direction_temps": {
                "mots_cles": ["temps", "direction", "sens", "fl√®che", "pourquoi le temps"],
                "lois": ["thermo_2"],
                "synthese_template": "Le temps a une direction parce que l'entropie augmente. L'univers a commenc√© dans un √©tat de basse entropie, et √©volue vers le d√©sordre maximal selon la deuxi√®me loi de la thermodynamique."
            },
            "entropie": {
                "mots_cles": ["entropie", "d√©sordre", "ordre", "complexit√©"],
                "lois": ["thermo_2", "landauer"],
                "synthese_template": "L'entropie mesure le d√©sordre et augmente in√©vitablement dans les syst√®mes isol√©s. Cependant, des √Ælots de complexit√© peuvent √©merger localement au prix d'une augmentation globale de l'entropie."
            }
        };

        function mapperQuestion(question) {
            const questionLower = question.toLowerCase();
            
            for (const [qType, data] of Object.entries(questionsTypes)) {
                if (data.mots_cles.some(mot => questionLower.includes(mot))) {
                    return {
                        type: qType,
                        lois: data.lois
                    };
                }
            }
            
            return {
                type: null,
                lois: []
            };
        }

        function genererReponse(question) {
            const { type, lois: loisInvoquees } = mapperQuestion(question);
            
            if (!loisInvoquees.length) {
                return `### üîÆ R√©ponse QLang v1.2

**Question** : ${question}

**Synth√®se** : Aucune loi cosmique pertinente n'a √©t√© identifi√©e pour votre question.

**Suggestions** : Reformulez avec des termes comme :
- "entropie", "information", "temps"
- "mati√®re", "√©nergie", "complexit√©"
- "lois fondamentales", "origine"

**Confiance** : ‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ
**Lois invoqu√©es** : Aucune`;
            }

            let markdown = `### üîÆ R√©ponse QLang v1.2

**Question** : ${question}

**Synth√®se** : `;

            // Ajouter le template de synth√®se
            if (type && questionsTypes[type]) {
                markdown += questionsTypes[type].synthese_template + "\n";
            } else {
                markdown += "Synth√®se bas√©e sur l'analyse des lois cosmiques fondamentales.\n";
            }

            // Ajouter les lois invoqu√©es
            markdown += "\n**Lois cosmiques invoqu√©es** :\n";
            let confianceMoyenne = 0;
            
            loisInvoquees.forEach(loiKey => {
                const loi = lois[loiKey];
                markdown += `- **${loi.nom}** : ${loi.√©nonc√©}. \n  Cons√©quences: ${loi.cons√©quences.join(", ")}.\n`;
                confianceMoyenne += loi.confiance_intrins√®que;
            });

            // Calculer la confiance
            confianceMoyenne /= loisInvoquees.length;
            const etoiles = "‚òÖ".repeat(Math.round(confianceMoyenne * 5)) + 
                           "‚òÜ".repeat(5 - Math.round(confianceMoyenne * 5));
            
            markdown += `\n**Niveau de confiance** : ${etoiles} (${confianceMoyenne.toFixed(2)})\n`;
            markdown += `\n*Bas√© sur l'analyse des lois fondamentales de l'univers*`;

            return markdown;
        }

        async function askQLang() {
            const questionInput = document.getElementById('question');
            const responseDiv = document.getElementById('response');
            const button = document.querySelector('button');
            
            const question = questionInput.value.trim();
            
            if (!question) {
                responseDiv.innerHTML = "<p class='error'>üå† Veuillez poser une question √† l'univers.</p>";
                return;
            }

            // D√©sactiver le bouton pendant le traitement
            button.disabled = true;
            button.textContent = "üåå L'univers r√©fl√©chit...";

            // Afficher un message de chargement
            responseDiv.innerHTML = "<p class='loading'>üåÄ Consultation des lois cosmiques...</p>";

            // Simuler un temps de traitement (comme si on interrogeait l'univers !)
            await new Promise(resolve => setTimeout(resolve, 1500));

            try {
                // G√©n√©rer la r√©ponse
                const reponseMarkdown = genererReponse(question);
                
                // Convertir le markdown en HTML
                const reponseHTML = marked.parse(reponseMarkdown);
                responseDiv.innerHTML = reponseHTML;
                
            } catch (error) {
                console.error("Erreur:", error);
                responseDiv.innerHTML = `<p class='error'>‚ùå Une anomalie cosmique s'est produite: ${error.message}</p>`;
            } finally {
                // R√©activer le bouton
                button.disabled = false;
                button.textContent = "‚ú® Interroger l'Univers";
            }
        }

        // Permettre d'utiliser la touche Entr√©e
        document.getElementById('question').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                askQLang();
            }
        });

        // Focus sur le champ de question au chargement
        document.getElementById('question').focus();
    </script>
</body>
</html>
